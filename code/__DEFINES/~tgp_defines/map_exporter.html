<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>code/__DEFINES/~tgp_defines/map_exporter.dm - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="code/__DEFINES/~tgp_defines/map_exporter.html#define">Define Details</a></header><main><h1>code/__DEFINES/~tgp_defines/map_exporter.dm <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm"></a></h1><table class="summary" cellspacing="0"><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_OBJECTS">SAVE_OBJECTS</a></th><td>Save objects types</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_OBJECTS_VARIABLES">SAVE_OBJECTS_VARIABLES</a></th><td>Save objects variables from obj.get_save_vars() and obj.get_custom_save_vars() if disabled, saves dir, pixel_x, pixel_y as default</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_OBJECTS_PROPERTIES">SAVE_OBJECTS_PROPERTIES</a></th><td>Save objects custom properties from obj.on_object_saved()</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_MOBS">SAVE_MOBS</a></th><td>Save mobs types (excludes mob/living/carbon)</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_TURFS">SAVE_TURFS</a></th><td>Save turfs types, if disabled, this will save turfs as /turf/template_noop</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_TURFS_ATMOS">SAVE_TURFS_ATMOS</a></th><td>Save turfs atmospheric properties (gases, temperature, etc.)</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_TURFS_SPACE">SAVE_TURFS_SPACE</a></th><td>Save space turfs, if disabled, this will replace objects, mobs, and areas that are on space turfs with /template_noop</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_AREAS">SAVE_AREAS</a></th><td>Save areas types, if disabled, this will save areas as /area/template_noop</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_AREAS_DEFAULT_SHUTTLES">SAVE_AREAS_DEFAULT_SHUTTLES</a></th><td>Save areas types for default shuttles like arrivals, cargo, mining, whiteship, etc. (does not include custom shuttles), if disabled, uses /template_noop</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/SAVE_AREAS_CUSTOM_SHUTTLES">SAVE_AREAS_CUSTOM_SHUTTLES</a></th><td>Save areas types for custom shuttles that players make, if disabled, uses /template_noop</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/HASHTAG_NEWLINES_AND_TABS">HASHTAG_NEWLINES_AND_TABS</a></th><td>Prevent symbols from being because otherwise you can name something
[&quot;;},/obj/item/gun/energy/laser/instakill{name=&quot;da epic gun] and spawn yourself an instakill gun</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/TGM_ENCODE">TGM_ENCODE</a></th><td></td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/TGM_VARS_BLOCK">TGM_VARS_BLOCK</a></th><td>Generates a TGM string for an object's variables &quot;{variables}&quot;</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/TGM_VAR_LINE">TGM_VAR_LINE</a></th><td>Generates a TGM string for a single variable assignment line &quot;[variable] = [value]&quot;</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/TGM_MAP_BLOCK">TGM_MAP_BLOCK</a></th><td>Adds a TGM object to the map string with optional variables.</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/TGM_ADD_TYPEPATH_VAR">TGM_ADD_TYPEPATH_VAR</a></th><td>Adds a variable/value pair to a provided list ONLY if the value is not the typepath's default value. This will also compile time check variable names on the typepath to make sure the variable is valid and exists.</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/IS_TYPEPATH_DEFAULT_VAR">IS_TYPEPATH_DEFAULT_VAR</a></th><td>Checks if a given value matches the compile-time default value of a typepath variable</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/INCREMENT_OBJ_COUNT">INCREMENT_OBJ_COUNT</a></th><td>Increment object counter (per turf)</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/INCREMENT_MOB_COUNT">INCREMENT_MOB_COUNT</a></th><td>Increment mob counter (per turf)</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/INCREMENT_TURF_COUNT">INCREMENT_TURF_COUNT</a></th><td>Increment turf counter</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/INCREMENT_AREA_COUNT">INCREMENT_AREA_COUNT</a></th><td>Increment area counter (should only be called once per unique area)</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/OBJECT_LIMIT_EXCEEDED">OBJECT_LIMIT_EXCEEDED</a></th><td>Check if object limit is exceeded</td></tr><tr><th><a href="code/__DEFINES/~tgp_defines/map_exporter.html#define/MOB_LIMIT_EXCEEDED">MOB_LIMIT_EXCEEDED</a></th><td>Check if mob limit is exceeded</td></tr></table><h2 id="define">Define Details</h2><h3 id="define/HASHTAG_NEWLINES_AND_TABS"><aside class="declaration">#define </aside>HASHTAG_NEWLINES_AND_TABS<aside>(text, replacements)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L30"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 30"></a></h3><p>Prevent symbols from being because otherwise you can name something
[&quot;;},/obj/item/gun/energy/laser/instakill{name=&quot;da epic gun] and spawn yourself an instakill gun</p><h3 id="define/INCREMENT_AREA_COUNT"><aside class="declaration">#define </aside>INCREMENT_AREA_COUNT <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L125"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 125"></a></h3><p>Increment area counter (should only be called once per unique area)</p><h3 id="define/INCREMENT_MOB_COUNT"><aside class="declaration">#define </aside>INCREMENT_MOB_COUNT<aside>(__VA_ARGS__ ...)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L115"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 115"></a></h3><p>Increment mob counter (per turf)</p><h3 id="define/INCREMENT_OBJ_COUNT"><aside class="declaration">#define </aside>INCREMENT_OBJ_COUNT<aside>(__VA_ARGS__ ...)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L108"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 108"></a></h3><p>Increment object counter (per turf)</p><h3 id="define/INCREMENT_TURF_COUNT"><aside class="declaration">#define </aside>INCREMENT_TURF_COUNT <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L122"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 122"></a></h3><p>Increment turf counter</p><h3 id="define/IS_TYPEPATH_DEFAULT_VAR"><aside class="declaration">#define </aside>IS_TYPEPATH_DEFAULT_VAR<aside>(datum, variable, new_var)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L103"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 103"></a></h3><p>Checks if a given value matches the compile-time default value of a typepath variable</p><h3 id="define/MOB_LIMIT_EXCEEDED"><aside class="declaration">#define </aside>MOB_LIMIT_EXCEEDED <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L131"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 131"></a></h3><p>Check if mob limit is exceeded</p><h3 id="define/OBJECT_LIMIT_EXCEEDED"><aside class="declaration">#define </aside>OBJECT_LIMIT_EXCEEDED <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L128"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 128"></a></h3><p>Check if object limit is exceeded</p><h3 id="define/SAVE_AREAS"><aside class="declaration">#define </aside>SAVE_AREAS <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L16"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 16"></a></h3><p>Save areas types, if disabled, this will save areas as /area/template_noop</p><h3 id="define/SAVE_AREAS_CUSTOM_SHUTTLES"><aside class="declaration">#define </aside>SAVE_AREAS_CUSTOM_SHUTTLES <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L20"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 20"></a></h3><p>Save areas types for custom shuttles that players make, if disabled, uses /template_noop</p><h3 id="define/SAVE_AREAS_DEFAULT_SHUTTLES"><aside class="declaration">#define </aside>SAVE_AREAS_DEFAULT_SHUTTLES <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L18"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 18"></a></h3><p>Save areas types for default shuttles like arrivals, cargo, mining, whiteship, etc. (does not include custom shuttles), if disabled, uses /template_noop</p><h3 id="define/SAVE_MOBS"><aside class="declaration">#define </aside>SAVE_MOBS <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L8"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 8"></a></h3><p>Save mobs types (excludes mob/living/carbon)</p><h3 id="define/SAVE_OBJECTS"><aside class="declaration">#define </aside>SAVE_OBJECTS <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L2"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 2"></a></h3><p>Save objects types</p><h3 id="define/SAVE_OBJECTS_PROPERTIES"><aside class="declaration">#define </aside>SAVE_OBJECTS_PROPERTIES <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L6"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 6"></a></h3><p>Save objects custom properties from obj.on_object_saved()</p><h3 id="define/SAVE_OBJECTS_VARIABLES"><aside class="declaration">#define </aside>SAVE_OBJECTS_VARIABLES <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L4"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 4"></a></h3><p>Save objects variables from obj.get_save_vars() and obj.get_custom_save_vars() if disabled, saves dir, pixel_x, pixel_y as default</p><h3 id="define/SAVE_TURFS"><aside class="declaration">#define </aside>SAVE_TURFS <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L10"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 10"></a></h3><p>Save turfs types, if disabled, this will save turfs as /turf/template_noop</p><h3 id="define/SAVE_TURFS_ATMOS"><aside class="declaration">#define </aside>SAVE_TURFS_ATMOS <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L12"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 12"></a></h3><p>Save turfs atmospheric properties (gases, temperature, etc.)</p><h3 id="define/SAVE_TURFS_SPACE"><aside class="declaration">#define </aside>SAVE_TURFS_SPACE <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L14"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 14"></a></h3><p>Save space turfs, if disabled, this will replace objects, mobs, and areas that are on space turfs with /template_noop</p><h3 id="define/TGM_ADD_TYPEPATH_VAR"><aside class="declaration">#define </aside>TGM_ADD_TYPEPATH_VAR<aside>(variables_to_add, typepath, var, value)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L97"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 97"></a></h3><p>Adds a variable/value pair to a provided list ONLY if the value is not the typepath's default value. This will also compile time check variable names on the typepath to make sure the variable is valid and exists.</p>
<p>Arguments:
variables_to_add: An associated list of variables/values to be added during serilization
typepath: The type of the object
var: The name of the variable on the typepath
value: The value of the var that will be inserted during serilization</p><h3 id="define/TGM_ENCODE"><aside class="declaration">#define </aside>TGM_ENCODE<aside>(value)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L45"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 45"></a></h3><ul>
<li>Encodes a value into a TGM valid string.</li>
<li>not handled:</li>
<li>
<ul>
<li>pops: /obj{name=&quot;foo&quot;}</li>
</ul>
</li>
<li>
<ul>
<li>new(), newlist(), icon(), matrix(), sound()</li>
</ul>
</li>
</ul><h3 id="define/TGM_MAP_BLOCK"><aside class="declaration">#define </aside>TGM_MAP_BLOCK<aside>(map_string, typepath, variables_metadata)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L79"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 79"></a></h3><p>Adds a TGM object to the map string with optional variables.</p>
<p>Arguments:
map_string: The current map string being assembled (will be modified in-place).
typepath: The typepath to save
variables_metadata: The variables that will be included on the typepath that must be formatted via generate_tgm_metadata()</p><h3 id="define/TGM_VARS_BLOCK"><aside class="declaration">#define </aside>TGM_VARS_BLOCK<aside>(variables)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L66"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 66"></a></h3><p>Generates a TGM string for an object's variables &quot;{variables}&quot;</p><h3 id="define/TGM_VAR_LINE"><aside class="declaration">#define </aside>TGM_VAR_LINE<aside>(variable, value)</aside> <a href="https://github.com/tgp-station/tgp-station/blob/0f67d518085748577dfd8d381e48dceb6a56cd44/code/__DEFINES/~tgp_defines/map_exporter.dm#L69"><img src="git.png" width="16" height="16" title="code/__DEFINES/~tgp_defines/map_exporter.dm 69"></a></h3><p>Generates a TGM string for a single variable assignment line &quot;[variable] = [value]&quot;</p></main><footer>tgstation.dme <a href="https://github.com/tgp-station/tgp-station/tree/0f67d518085748577dfd8d381e48dceb6a56cd44">0f67d51</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>